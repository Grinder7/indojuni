services:
  indojuni:
    image: ${IMAGE_NAME:-indojuni}:${IMAGE_TAG:-latest}
    container_name: ${CONTAINER_NAME:-indojuni}
    ports:
      - ${CONTAINER_PORT:-8001}:${IMAGE_PORT:-8000}
    healthcheck:
      test: curl --fail http://localhost:${CONTAINER_PORT:-8001}/api/ping || exit 1
      interval: 120s
      timeout: 30s
      retries: 3
      start_period: 60s
    restart: unless-stopped
    volumes:
      - product_image:/app/public/images/products

volumes:
    product_image:
        driver: local
